{% extends 'base.html' %}
{% block content %}
  <div class="container mt-4">
    <div class="card">
      <div class="card-header">
        <h3>Informações do Usuário</h3>
      </div>
      <div class="card-body d-flex">
        <div class="me-4 d-flex flex-column align-items-center">
          <div class="card-image mb-auto">
            <i class="fa-solid fa-circle-user mb-3 icon-large"></i>
          </div>    
          <div class="w-100 align-items-end mb-auto">
            {% if perms.users.change_user %}
              {% if user == request.user or not user.is_superuser %}
                <div class="mb-2">
                  <a href="{% url 'user_update' user.id %}?next={% url 'user_detail' user.id %}" class="btn btn-warning btn-small w-100">
                    <i class="fa-solid fa-pencil"></i> <span class="ms-1 fs-5">Editar</span>
                  </a> 
                </div>
              {% endif %}  
            {% endif %} 
            {% if perms.users.change_user %}
              {% if user == request.user or not user.is_superuser %}
                <div class="mb-2">
                  <a href="{% url 'user_password_change' user.id %}?next={% url 'user_detail' user.id %}" class="btn btn-primary btn-small w-100">
                    <i class="fa-solid fa-lock"></i> <span class="ms-1 fs-5">Alterar Senha</span>
                  </a> 
                </div>
              {% endif %}  
            {% endif %}   
          </div>
        </div>
        <div class="flex-grow-1 w-100">
          <div class="form-group mb-3">
            <label class="form-label">Nome de Usuário:</label>
            <p class="input-group-text">{{ user.username }}</p>
          </div>
          <div class="form-group mb-3">
            <label class="form-label">Nome Completo:</label>
            <p class="input-group-text">{{ user.full_name }}</p>
          </div>
          <div class="form-group mb-3">
            <label class="form-label">E-mail:</label>
            <p class="input-group-text">{{ user.email }}</p>
          </div>
          <div class="form-group mb-3">
            <label class="form-label">CPF:</label>
            <p class="input-group-text">{{ user.cpf }}</p>
          </div>
          <div class="form-group mb-3">
            <label class="form-label">Data de Nascimento:</label>
            <p class="input-group-text">{{ user.birth_date }}</p>
          </div>
          <div class="form-group mb-3">
            <label class="form-label">Telefone:</label>
            <p class="input-group-text">{{ user.phone_number }}</p>
          </div>
        </div>
      </div>
    </div>
    <a href="{% url 'user_list' %}" class="btn btn-secondary mt-3">Cancelar e Voltar</a>
  </div>
{% endblock %}
